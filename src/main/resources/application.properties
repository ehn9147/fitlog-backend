spring.application.name=workout-backend
server.port=${PORT:8080}
# Use a Java 17 image
FROM eclipse-temurin:17-jdk

# Work inside /app in the container
WORKDIR /app

# Copy everything into the image
COPY . .

# Make sure mvnw is executable
RUN chmod +x mvnw

# Build the Spring Boot jar (skip tests to be faster)
RUN ./mvnw clean package -DskipTests

# Expose Spring Boot's port
EXPOSE 8080

# Run the built jar (glob in case the name changes)
CMD ["sh", "-c", "java -jar target/*.jar"]

